(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1903:function(e,t,r){Promise.resolve().then(r.bind(r,9275))},9275:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var s=r(6287),a=r(9334),n=r(5184),i=r(9837),o=r(5490);let l=(0,o.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),c=(0,o.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var d=r(5046),u=r(8448);function h(e){let{onSearch:t,placeholder:r="Ask AI about your site or enter a URL to audit..."}=e,[n,i]=(0,a.useState)("");return(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(t(n),i(""))},className:"relative w-full max-w-3xl",children:(0,s.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:(0,s.jsx)(l,{className:"h-5 w-5"})}),(0,s.jsx)(u.I,{type:"text",placeholder:r,value:n,onChange:e=>i(e.target.value),className:"h-14 pl-12 pr-32 text-base bg-white border-2 border-black"}),(0,s.jsxs)(d.z,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 -translate-y-1/2",children:[(0,s.jsx)(c,{className:"h-4 w-4 mr-2"}),"Search"]})]})})}let m=(0,o.Z)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),f=(0,o.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var x=r(9462),p=r(3004);function g(e){let{messages:t,isLoading:r,onSearch:n}=e,i=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t]),(0,s.jsxs)("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[t.map(e=>(0,s.jsxs)("div",{className:(0,p.cn)("flex gap-4","user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-black flex items-center justify-center",children:(0,s.jsx)(m,{className:"h-4 w-4 text-white"})}),(0,s.jsxs)("div",{className:(0,p.cn)("rounded-lg px-4 py-3 max-w-[80%]","user"===e.role?"bg-black text-white":"bg-white border-2 border-black text-foreground"),children:[(0,s.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),e.suggestions&&e.suggestions.length>0&&(0,s.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:e.suggestions.map((e,t)=>(0,s.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>n(e),className:"text-xs border-black",children:e},t))})]}),"user"===e.role&&(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-secondary border-2 border-black flex items-center justify-center",children:(0,s.jsx)(f,{className:"h-4 w-4 text-foreground"})})]},e.id)),r&&(0,s.jsxs)("div",{className:"flex gap-4 justify-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-black flex items-center justify-center",children:(0,s.jsx)(m,{className:"h-4 w-4 text-white"})}),(0,s.jsx)("div",{className:"rounded-lg px-4 py-3 bg-white border-2 border-black",children:(0,s.jsx)(x.Z,{className:"h-4 w-4 animate-spin text-foreground"})})]}),(0,s.jsx)("div",{ref:i})]})}),(0,s.jsx)("div",{className:"border-t-2 border-black bg-background",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-4",children:(0,s.jsx)(h,{onSearch:n,placeholder:"Continue the conversation..."})})})]})}let v=(0,o.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var b=r(6149);function y(e){let{auditId:t,onComplete:r}=e,[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)({language:"",competitors:[],market:""}),[f,x]=(0,a.useState)("competitors"),p=(0,a.useRef)(null),g=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;m(e=>({...e,language:"en"})),y("Hi! I'm your AI audit assistant. Would you like to add specific competitor URLs for comparison? You can type URLs separated by commas, or just say 'no' to skip."),x("competitors"),null===(e=g.current)||void 0===e||e.focus()},[]),(0,a.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[n]);let y=e=>{d(!0);let t=e.split(" "),r="",s=0,a=setInterval(()=>{s<t.length?(r+=(s>0?" ":"")+t[s],i(e=>{var t;let s=[...e];return(null===(t=s[s.length-1])||void 0===t?void 0:t.typing)?s[s.length-1]={role:"assistant",content:r,typing:!0}:s.push({role:"assistant",content:r,typing:!0}),s}),s++):(clearInterval(a),i(e=>{let t=[...e];return t[t.length-1]={role:"assistant",content:r},t}),d(!1))},50)},j=async()=>{if(!o.trim()||c)return;let e=o.trim();if(i(t=>[...t,{role:"user",content:e}]),l(""),"competitors"===f){if(e.toLowerCase().includes("no")||e.toLowerCase().includes("skip"))x("market"),await new Promise(e=>setTimeout(e,500)),y("Understood. What about target markets? Would you like to specify countries or regions? (e.g., 'US', 'Latin America', 'Europe', or 'no')");else{let t=e.split(",").map(e=>{let t=e.trim();return t&&!t.startsWith("http")&&(t="https://"+t),t}).filter(e=>e.includes("."));m(e=>({...e,competitors:t})),x("market"),await new Promise(e=>setTimeout(e,500)),y("Perfect! I've added ".concat(t.length," competitor(s). Now, what about target markets? Would you like to specify countries or regions? (e.g., 'US', 'Latin America', 'Europe', or 'no')"))}}else if("market"===f){let s=e.toLowerCase().includes("no")?"":e;m(e=>({...e,market:s})),x("done"),await new Promise(e=>setTimeout(e,500)),y("Excellent! I'm starting your comprehensive audit now. This will take a few minutes...");try{let e=b.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",r=await fetch("".concat(e,"/api/audits"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"string"==typeof t?t:"",language:h.language||"en",competitors:h.competitors.length>0?h.competitors:null,market:s||null})}),a=await r.json();setTimeout(()=>{window.location.href="/audits/".concat(a.id)},2e3)}catch(e){console.error("Error:",e),r()}}};return(0,s.jsxs)("div",{className:"flex flex-col h-[600px] max-w-3xl mx-auto bg-white border-2 border-black rounded-lg",children:[(0,s.jsxs)("div",{className:"border-b-2 border-black p-4",children:[(0,s.jsx)("h2",{className:"font-bold text-lg",children:"AI Audit Assistant"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Powered by KIMI"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-black text-white":"bg-gray-100 text-black border border-gray-300"),children:[(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),e.typing&&(0,s.jsx)("span",{className:"inline-block w-1 h-4 bg-current ml-1 animate-pulse"})]})},t)),(0,s.jsx)("div",{ref:p})]}),"done"!==f&&(0,s.jsx)("div",{className:"border-t-2 border-black p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.I,{ref:g,value:o,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),placeholder:"Type your response...",disabled:c,className:"flex-1"}),(0,s.jsx)("button",{onClick:j,disabled:c||!o.trim(),className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(v,{className:"h-4 w-4"})})]})})]})}let j=r(6149).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";class w{async searchAI(e){let t=await fetch("".concat(this.baseUrl,"/search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok)throw Error("API error: ".concat(t.status));return t.json()}async createAudit(e){let t=await fetch("".concat(this.baseUrl,"/api/audits"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("API error: ".concat(t.status));return t.json()}async getAudit(e){let t=await fetch("".concat(this.baseUrl,"/api/audits/").concat(e));if(!t.ok)throw Error("API error: ".concat(t.status));return t.json()}async getAuditPages(e){let t=await fetch("".concat(this.baseUrl,"/api/audits/").concat(e,"/pages"));if(!t.ok)throw Error("API error: ".concat(t.status));return t.json()}async getPageDetails(e,t){let r=await fetch("".concat(this.baseUrl,"/api/audits/").concat(e,"/pages/").concat(t));if(!r.ok)throw Error("API error: ".concat(r.status));return r.json()}async getCompetitorData(e){let t=await fetch("".concat(this.baseUrl,"/api/audits/").concat(e,"/competitors"));if(!t.ok)throw Error("API error: ".concat(t.status));return t.json()}constructor(){this.baseUrl=j}}let k=new w;function N(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),m=(0,n.useRouter)(),f=async e=>{if(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e)){o(!0);try{u(e),c(!0)}catch(e){console.error("Error:",e)}finally{o(!1)}return}let r={id:"msg_".concat(Date.now()),role:"user",content:e,timestamp:new Date().toISOString()};t(e=>[...e,r]),o(!0);try{let r=await k.searchAI(e),s={id:"msg_".concat(Date.now()+1),role:"assistant",content:r.response,timestamp:new Date().toISOString(),suggestions:r.suggestions};t(e=>[...e,s]),r.audit_started&&r.audit_id&&setTimeout(()=>{m.push("/audits/".concat(r.audit_id))},2e3)}catch(e){console.error("[v0] Search error:",e)}finally{o(!1)}};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(i.h,{}),(0,s.jsx)("main",{className:"flex-1",children:l&&d?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] px-4 py-12",children:(0,s.jsx)(y,{auditId:d,onComplete:()=>{}})}):0===e.length?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] px-4 py-12",children:(0,s.jsxs)("div",{className:"w-full max-w-3xl space-y-8 text-center",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold tracking-tight text-balance",children:"AI-Powered SEO & GEO Auditing"}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground text-balance",children:"Discover issues, get AI recommendations, and optimize your site's performance with comprehensive audits"})]}),(0,s.jsx)(h,{onSearch:f}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-8",children:[(0,s.jsxs)("div",{className:"p-6 text-left rounded-lg border-2 border-black bg-white",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2 text-foreground",children:"Full Site Audit"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Comprehensive analysis of all pages"})]}),(0,s.jsxs)("div",{className:"p-6 text-left rounded-lg border-2 border-black bg-white",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2 text-foreground",children:"Competitor Analysis"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"See how you stack up against rivals"})]}),(0,s.jsxs)("div",{className:"p-6 text-left rounded-lg border-2 border-black bg-white",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2 text-foreground",children:"E-E-A-T Analysis"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Evaluate expertise and trust signals"})]})]})]})}):(0,s.jsx)(g,{messages:e,isLoading:r,onSearch:f})})]})}},9837:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var s=r(6287),a=r(9908),n=r(4833),i=r(5046);function o(){return(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-black bg-background",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"h-6 w-6 text-foreground"}),(0,s.jsx)("span",{className:"text-lg font-semibold",children:"AI Audit Studio"})]})}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,s.jsx)(a.default,{href:"/",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),(0,s.jsx)(a.default,{href:"/audits",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Audits"}),(0,s.jsx)(a.default,{href:"/docs",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Docs"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(i.z,{variant:"ghost",size:"sm",children:"Sign in"}),(0,s.jsx)(i.z,{size:"sm",children:"Get Started"})]})]})})}},5046:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var s=r(6287);r(9334);var a=r(6107),n=r(5437),i=r(3004);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...c}=e,d=l?a.g7:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...c})}},8448:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(6287);r(9334);var a=r(3004);function n(e){let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},3004:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(8256),a=r(8557);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},9462:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(5490).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6149:function(e,t,r){"use strict";var s,a;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(3347)},3347:function(e){!function(){var t={229:function(e){var t,r,s,a=e.exports={};function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=o(u);c=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||c||o(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function s(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}},i=!0;try{t[e](n,n.exports,s),i=!1}finally{i&&delete r[e]}return n.exports}s.ab="//";var a=s(229);e.exports=a}()}},function(e){e.O(0,[986,440,975,731,744],function(){return e(e.s=1903)}),_N_E=e.O()}]);